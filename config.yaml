proxy:
  listen:
    tcp: "0.0.0.0:8080"
    udp: "0.0.0.0:8081"
  
  # TCP backends (HTTP services)
  backends:
    - address: "localhost:3000"
      weight: 100
      health_check:
        interval: 5s
        timeout: 2s
        path: "/health"
    - address: "localhost:3001"
      weight: 100
      health_check:
        interval: 5s
        timeout: 2s
        path: "/health"
    - address: "localhost:3002"
      weight: 50
      health_check:
        interval: 5s
        timeout: 2s
        path: "/health"
  
  # UDP backends (echo servers for testing)
  udp_backends:
    - address: "localhost:5001"
    - address: "localhost:5002"
    - address: "localhost:5003"

  load_balancing:
    algorithm: "round_robin"  # Options: round_robin, weighted_round_robin, least_connections, consistent_hash
    session_affinity: true

  traffic:
    rate_limit:
      requests_per_second: 1000
      burst: 100
    timeout:
      connect: 5s
      idle: 60s
      read: 30s

  circuit_breaker:
    error_threshold: 5
    timeout: 30s

admin:
  api_address: "0.0.0.0:9090"
  metrics_address: "0.0.0.0:9091"

grpc:
  control_plane_address: "localhost:50051"

